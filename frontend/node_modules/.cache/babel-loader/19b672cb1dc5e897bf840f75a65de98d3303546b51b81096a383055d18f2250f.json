{"ast":null,"code":"export default {\n  props: {\n    role: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      isLogin: true,\n      formData: {\n        name: '',\n        username: '',\n        password: ''\n      }\n    };\n  },\n  methods: {\n    toggleMode() {\n      this.isLogin = !this.isLogin;\n    },\n    async submitForm() {\n      try {\n        const endpoint = this.isLogin ? 'login' : 'register';\n        const response = await this.$axios.post(`/api/${this.role}/${endpoint}`, this.formData);\n        this.$emit('auth-success', response.data);\n      } catch (error) {\n        console.error('认证失败:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["props","role","type","String","required","data","isLogin","formData","name","username","password","methods","toggleMode","submitForm","endpoint","response","$axios","post","$emit","error","console"],"sources":["src/components/AuthForm.vue"],"sourcesContent":["<template>\n  <div class=\"auth-form\">\n    <h2>{{ isLogin ? '登录' : '注册' }}</h2>\n    <form @submit.prevent=\"submitForm\">\n      <div v-if=\"!isLogin\">\n        <input v-model=\"formData.name\" placeholder=\"姓名\" required>\n      </div>\n      <div>\n        <input v-model=\"formData.username\" placeholder=\"用户名\" required>\n      </div>\n      <div>\n        <input v-model=\"formData.password\" type=\"password\" placeholder=\"密码\" required>\n      </div>\n      <button type=\"submit\">{{ isLogin ? '登录' : '注册' }}</button>\n    </form>\n    <p @click=\"toggleMode\">{{ isLogin ? '没有账号？点击注册' : '已有账号？点击登录' }}</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    role: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      isLogin: true,\n      formData: {\n        name: '',\n        username: '',\n        password: ''\n      }\n    }\n  },\n  methods: {\n    toggleMode() {\n      this.isLogin = !this.isLogin;\n    },\n    async submitForm() {\n      try {\n        const endpoint = this.isLogin ? 'login' : 'register';\n        const response = await this.$axios.post(`/api/${this.role}/${endpoint}`, this.formData);\n        this.$emit('auth-success', response.data);\n      } catch (error) {\n        console.error('认证失败:', error);\n      }\n    }\n  }\n}\n</script>"],"mappings":"AAoBA;EACAA,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;QACAC,IAAA;QACAC,QAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,KAAAN,OAAA,SAAAA,OAAA;IACA;IACA,MAAAO,WAAA;MACA;QACA,MAAAC,QAAA,QAAAR,OAAA;QACA,MAAAS,QAAA,cAAAC,MAAA,CAAAC,IAAA,cAAAhB,IAAA,IAAAa,QAAA,SAAAP,QAAA;QACA,KAAAW,KAAA,iBAAAH,QAAA,CAAAV,IAAA;MACA,SAAAc,KAAA;QACAC,OAAA,CAAAD,KAAA,UAAAA,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}